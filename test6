-- Kill Aura Script
local auraRadius = 10 -- The radius around the player to detect enemies
local damage = 10 -- The amount of damage to deal to enemies
local attackInterval = 0.5 -- Time between attacks

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local tool = character:WaitForChild("Tool") -- Assuming you're using a tool to attack (like a sword)

local userInputService = game:GetService("UserInputService")
local walkSpeedNormal = 16 -- Normal walk speed
local walkSpeedBoost = 25 -- Walk speed when holding space

local function findEnemies()
    local enemies = {}
    local playerPosition = character.HumanoidRootPart.Position
    -- Find all players in the game
    for _, otherPlayer in ipairs(game.Players:GetPlayers()) do
        if otherPlayer ~= player then
            local otherCharacter = otherPlayer.Character
            if otherCharacter then
                local otherHumanoid = otherCharacter:FindFirstChild("Humanoid")
                if otherHumanoid and (otherCharacter.HumanoidRootPart.Position - playerPosition).Magnitude <= auraRadius then
                    table.insert(enemies, otherCharacter)
                end
            end
        end
    end
    return enemies
end

local function attackEnemy(enemy)
    if enemy and enemy:FindFirstChild("Humanoid") then
        local enemyHumanoid = enemy.Humanoid
        -- Deal damage to the enemy
        enemyHumanoid:TakeDamage(damage)
    end
end

local function startKillAura()
    while true do
        local enemies = findEnemies()
        for _, enemy in ipairs(enemies) do
            attackEnemy(enemy)
        end
        wait(attackInterval) -- Wait before attacking again
    end
end

-- Function to handle changing the walk speed when holding Space
local function onInputBegan(input, gameProcessed)
    if gameProcessed then return end
    
    if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.Space then
        humanoid.WalkSpeed = walkSpeedBoost -- Set walk speed to 25 when Space is held
    end
end

local function onInputEnded(input)
    if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.Space then
        humanoid.WalkSpeed = walkSpeedNormal -- Reset walk speed when Space is released
    end
end

-- Connect the input functions to the UserInputService
userInputService.InputBegan:Connect(onInputBegan)
userInputService.InputEnded:Connect(onInputEnded)

-- Start the Kill Aura when the script runs
startKillAura()
