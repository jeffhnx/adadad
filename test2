--// Services
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

--// Variables
local SprintEnabled = false
local SpaceHeld = false
local DefaultWalkSpeed = 16 -- Default speed for walking
local SprintSpeed = 30 -- Sprint speed like Neon
local JumpHeight = 10 -- Normal jump height
local SprintJumpHeight = 30 -- Increased jump height during sprint

--// Function: Handle Sprint
local function ToggleSprint(enable)
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        local humanoid = LocalPlayer.Character.Humanoid
        if enable then
            humanoid.WalkSpeed = SprintSpeed -- Increase speed for sprint
        else
            humanoid.WalkSpeed = DefaultWalkSpeed -- Reset speed
        end
    end
end

--// Function: Handle Jump
local function HandleJump()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        local humanoid = LocalPlayer.Character.Humanoid
        if humanoid:GetState() == Enum.HumanoidStateType.Running then
            if SprintEnabled then
                humanoid.JumpHeight = SprintJumpHeight -- Higher jump when sprinting
            else
                humanoid.JumpHeight = JumpHeight -- Normal jump height
            end
            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end

--// User Input: Sprint Toggle
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.LeftShift then
        SprintEnabled = true
        ToggleSprint(true) -- Enable sprint
    elseif input.KeyCode == Enum.KeyCode.Space then
        SpaceHeld = true
        HandleJump() -- Perform jump
    end
end)

UserInputService.InputEnded:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.LeftShift then
        SprintEnabled = false
        ToggleSprint(false) -- Disable sprint
    elseif input.KeyCode == Enum.KeyCode.Space then
        SpaceHeld = false
    end
end)

--// Run Service Loop
RunService.RenderStepped:Connect(function()
    if SpaceHeld then
        HandleJump()
    end
end)
