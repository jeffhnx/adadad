--// Aimbot Function with 5x distance
local function Aimbot()
    if LeftControlHeld and AimbotEnabled then
        local closestPlayer = nil
        local closestDistance = math.huge

        -- Check for 360-degree aim
        if Aim360Enabled then
            for _, player in pairs(Players:GetPlayers()) do
                -- Check if the player is not the local player and has a character with a head
                if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
                    -- Check for team and only aim at players not on the same team
                    if player.Team ~= LocalPlayer.Team then
                        -- Target position adjusted to be 5 times farther
                        local targetPosition = player.Character.Head.Position + Vector3.new(0, 0.5, 0)
                        local direction = (targetPosition - Camera.CFrame.Position).unit
                        local extendedPosition = Camera.CFrame.Position + direction * 5 -- Multiply direction by 5 for farther aiming
                        
                        local screenPosition, onScreen = Camera:WorldToViewportPoint(extendedPosition)

                        if onScreen then
                            local mousePosition = UserInputService:GetMouseLocation()
                            local distance = (Vector2.new(mousePosition.X, mousePosition.Y) - Vector2.new(screenPosition.X, screenPosition.Y)).Magnitude

                            if distance < closestDistance then
                                closestDistance = distance
                                closestPlayer = player
                            end
                        end
                    end
                end
            end
        end

        -- Aim at the closest player (360 degree aiming logic)
        if closestPlayer then
            -- Target the adjusted position (5x farther away)
            local targetPosition = closestPlayer.Character.Head.Position + Vector3.new(0, 0.5, 0)
            local direction = (targetPosition - Camera.CFrame.Position).unit
            local extendedPosition = Camera.CFrame.Position + direction * 5
            local cameraCFrame = CFrame.new(Camera.CFrame.Position, extendedPosition)
            Camera.CFrame = cameraCFrame:Lerp(Camera.CFrame, AimbotStrength) -- Smooth transition
        end
    end
end
